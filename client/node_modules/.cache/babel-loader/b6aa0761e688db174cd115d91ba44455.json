{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\monsters-rolodex\\\\ECOMMERCE-AMAZON-LIKE-WEBSITE\\\\client\\\\src\\\\App.js\";\n\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from \"./pages/shoppage/shop.component\";\nimport SignInAndSignUpPage from './pages/sign-in and sign-up page/sign-in-and-up.component';\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport Header from \"./components/header/header.component\";\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport { checkUserSession as _checkUserSession } from './redux/user/user.actions';\n\nvar App = function App(_ref) {\n  var checkUserSession = _ref.checkUserSession;\n  // unsubscribeFromAuth=null;\n  useEffect(function () {\n    checkUserSession();\n  }, [checkUserSession]); //   const {setCurrentUser}=this.props;\n  //   this.unsubscribeFromAuth=auth.onAuthStateChanged(   //to make user data store in our state we use this method.\n  //     async userAuth=>{\n  //       if(userAuth){\n  //         const userRef=await createUserProfileDocument(userAuth);\n  //         userRef.onSnapshot(snapshot=>{ //returns the actual data by using snapshot.data()\n  //           setCurrentUser({\n  //             id:snapshot.id,\n  //          ...snapshot.data()\n  //         });\n  //       });\n  //     }\n  //     setCurrentUser(userAuth);//so if the user is signedout we get null so we want to set state to null\n  // });\n  // componetWillUnmount(){\n  //   this.unsubscribeFromAuth();\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: function render() {\n      return _this.props.currentuser ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 80\n        }\n      }) : /*#__PURE__*/React.createElement(SignInAndSignUpPage, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 102\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  })));\n}; // const mapStateToProps=({user})=>({\n//   currentuser:user.currentuser\n// });\n\n\nvar mapStateToProps = createStructuredSelector({\n  currentuser: selectCurrentUser\n});\n\nvar mapDisptachToProps = function mapDisptachToProps(dispatch) {\n  return {\n    checkUserSession: function checkUserSession() {\n      return dispatch(_checkUserSession());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDisptachToProps)(App);","map":{"version":3,"sources":["D:/monsters-rolodex/ECOMMERCE-AMAZON-LIKE-WEBSITE/client/src/App.js"],"names":["React","useEffect","Route","Switch","Redirect","HomePage","ShopPage","SignInAndSignUpPage","CheckoutPage","Header","connect","createStructuredSelector","selectCurrentUser","checkUserSession","App","props","currentuser","mapStateToProps","mapDisptachToProps","dispatch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAO,WAAP;AACA,SAAQC,KAAR,EAAcC,MAAd,EAAqBC,QAArB,QAAqC,kBAArC;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAQC,YAAR,MAA0B,qCAA1B;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,SAAQC,OAAR,QAAqB,aAArB;AACA,SAAQC,wBAAR,QAAuC,UAAvC;AACA,SAAQC,iBAAR,QAAgC,6BAAhC;AACA,SAAQC,gBAAgB,IAAhBA,iBAAR,QAA+B,2BAA/B;;AAEA,IAAMC,GAAG,GAAE,SAALA,GAAK,OAAsB;AAAA,MAApBD,gBAAoB,QAApBA,gBAAoB;AAE/B;AACAZ,EAAAA,SAAS,CAAC,YAAI;AACZY,IAAAA,gBAAgB;AACjB,GAFQ,EAEP,CAACA,gBAAD,CAFO,CAAT,CAH+B,CAM/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AACE,sBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,KAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,SAAS,EAAER,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,eAEC,oBAAC,KAAD;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAqB,IAAA,SAAS,EAAEC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC,oBAAC,KAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,IAAI,EAAC,WAAnB;AAA+B,IAAA,SAAS,EAAEE,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAKC,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAA4B,IAAA,MAAM,EAAE,kBAAI;AAAC,aAAO,KAAI,CAACO,KAAL,CAAWC,WAAX,gBAAyB,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzB,gBAA+C,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAtD;AAA+E,KAAxH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,CAFD,CADA;AAaH,CAvCD,C,CAyCA;AACA;AACA;;;AACA,IAAMC,eAAe,GAACN,wBAAwB,CAAC;AAC7CK,EAAAA,WAAW,EAACJ;AADiC,CAAD,CAA9C;;AAGA,IAAMM,kBAAkB,GAAC,SAAnBA,kBAAmB,CAAAC,QAAQ;AAAA,SAAG;AAClCN,IAAAA,gBAAgB,EAAC;AAAA,aAAIM,QAAQ,CAACN,iBAAgB,EAAjB,CAAZ;AAAA;AADiB,GAAH;AAAA,CAAjC;;AAIA,eAAeH,OAAO,CAACO,eAAD,EAAiBC,kBAAjB,CAAP,CAA4CJ,GAA5C,CAAf","sourcesContent":["import React, { useEffect} from 'react';\nimport './App.css';\nimport {Route,Switch,Redirect}  from 'react-router-dom';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from \"./pages/shoppage/shop.component\";\nimport SignInAndSignUpPage from './pages/sign-in and sign-up page/sign-in-and-up.component';\nimport  CheckoutPage from './pages/checkout/checkout.component'\nimport Header from \"./components/header/header.component\"\nimport {connect} from'react-redux';\nimport {createStructuredSelector} from 'reselect';\nimport {selectCurrentUser} from './redux/user/user.selectors';\nimport {checkUserSession} from './redux/user/user.actions';\n\nconst App =({checkUserSession})=>{\n \n  // unsubscribeFromAuth=null;\n  useEffect(()=>{\n    checkUserSession();\n  },[checkUserSession]);\n  //   const {setCurrentUser}=this.props;\n  //   this.unsubscribeFromAuth=auth.onAuthStateChanged(   //to make user data store in our state we use this method.\n  //     async userAuth=>{\n  //       if(userAuth){\n  //         const userRef=await createUserProfileDocument(userAuth);\n  //         userRef.onSnapshot(snapshot=>{ //returns the actual data by using snapshot.data()\n  //           setCurrentUser({\n  //             id:snapshot.id,\n  //          ...snapshot.data()\n  //         });\n\n  //       });\n  //     }\n  //     setCurrentUser(userAuth);//so if the user is signedout we get null so we want to set state to null\n\n  // });\n\n  // componetWillUnmount(){\n  //   this.unsubscribeFromAuth();\n  // }\n    return (\n    <div>\n      <Header /> \n     <Switch>\n      <Route  exact path=\"/\" component={HomePage}></Route>\n      <Route  path=\"/shop\" component={ShopPage}></Route>\n      <Route  exact path=\"/checkout\" component={CheckoutPage}></Route>\n\n      <Route exact path=\"/signin\" render={()=>{return(this.props.currentuser? (<Redirect to=\"/\" />):(<SignInAndSignUpPage/>))}}/>\n      </Switch>\n    </div>        \n    );\n  \n}\n\n// const mapStateToProps=({user})=>({\n//   currentuser:user.currentuser\n// });\nconst mapStateToProps=createStructuredSelector({\n  currentuser:selectCurrentUser\n});\nconst mapDisptachToProps=dispatch=>({\n  checkUserSession:()=>dispatch(checkUserSession())\n})\n\nexport default connect(mapStateToProps,mapDisptachToProps)(App);\n"]},"metadata":{},"sourceType":"module"}